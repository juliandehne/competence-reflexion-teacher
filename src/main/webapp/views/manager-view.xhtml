<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<p:panel id="learningTemplatePorlet"
		visible="#{userLoginView.loggedIn}">
		<p:panel id="learningTemplatePanel">
			<div class="ui-grid ui-grid-responsive">
				<div class="ui-grid-row centered">
					<div class="ui-grid-col-12">
						<h2>Lernprojekt Manager</h2>
						<h4>
							<h:outputText
								value="Erstellen Sie ein neues Lernprojekt oder wählen Sie ein aus!" />
						</h4>
					</div>
				</div>
				<hr />
				<!-- Here a learning project is selected by the user -->
				<div class="ui-grid-row centered marginTop">
					<div class="ui-grid-col-6">
						<div>
							<h:outputText value="Wählen Sie ein Lernprojekt aus! " />
						</div>
						<div class="marginTop">
							<p:autoComplete maxResults="10" id="autocompleteLearningTemplate"
								dropdown="true"
								value="#{learningTemplateView.selectedLearningTemplate}"
								completeMethod="#{learningTemplateView.complete}"
								validator="#{learningTemplateView.validate}"
								validatorMessage="Dieses Lernziel ist nicht vorhanden!">
								<p:ajax event="itemSelect" update="learningTemplatePanel" />
							</p:autoComplete>
						</div>
						<div class="marginTop">
							<p:commandButton id="templateSelecteButton" value="auswählen"
								icon="ui-icon-check" update="learningTemplatePorlet"
								disabled="#{ empty learningTemplateView.selectedLearningTemplate}"
								actionListener="#{learningTemplateView.selectLearningTemplate}">
								<f:ajax render="@form" />
								<!-- 								<f:ajax render="learningProjectEdit" /> -->
							</p:commandButton>
						</div>
					</div>
					<div class="ui-grid-col-4">
						<p:commandButton icon="ui-icon-plus" value="neu erstellen"
							ajax="true" onclick="PF('newTemplateDialog').show()"
							style=" margin-top:20px;" />
					</div>
				</div>
				<div class="ui-grid-row marginTop">
					<div class="ui-grid-col-12 centered">
						<p:message for="autocompleteLearningTemplate" />
					</div>
				</div>
			</div>

			<!-- Here a learning project can be created the dialog -->
			<p:dialog header="neues Lernprojekt erstellen" closeOnEscape="true"
				widgetVar="newTemplateDialog" modal="true" height="120">
				<div class="centered marginTop">
					<h4>
						<h:outputText value="Geben Sie einen Name ein: " />
					</h4>
					<div class="marginTop">
						<p:inputText id="name"
							value="#{learningTemplateView.newLearningTemplate}" />
					</div>
					<div class="marginTop">
						<p:commandButton value="erstellen" icon="ui-icon-check"
							ajax="true" keypadOnly="true" resetValues="true"
							update="learningTemplatePorlet"
							oncomplete="PF('newTemplateDialog').hide()"
							actionListener="#{learningTemplateView.createLearningTemplate}">
						</p:commandButton>
						<p:commandButton value="abbrechen"
							onclick="PF('newTemplateDialog').hide()" style="margin-left:5px;" />
					</div>
				</div>
			</p:dialog>
		</p:panel>


	</p:panel>
</ui:composition>